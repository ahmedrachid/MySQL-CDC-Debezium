DATABASE: postgres
USER: gpadmin
HOST: localhost
PORT: 5432
VERSION: 2
RABBITMQ:
  INPUT:
    SOURCE:
      SERVER: guest:guest@rabbitmq:5672
      QUEUE: test
      VIRTUALHOST: /
    DATA:
      COLUMNS:
        - NAME: j
          TYPE: json
      FORMAT: json
    FILTER: (((j::json->>'payload')::json->>'source')::json->>'table')::text = 'silDemande'
  OUTPUT:
    TABLE: sildemande
    MODE: MERGE
    MATCH_COLUMNS:
      - id
    DELETE_CONDITION: ((j->>'payload')::json->>'op')='d'
    MAPPING:
      - NAME: id

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'id' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'id' AS INT) END

      - NAME: idsite

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'idSite' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'idSite' AS INT) END

      - NAME: numdemande

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'numDemande' ELSE ((j->>'payload')::json->>'after')::json->>'numDemande' END

      - NAME: numpermanent

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'numPermanent' ELSE ((j->>'payload')::json->>'after')::json->>'numPermanent' END

      - NAME: idpatient

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'idPatient' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'idPatient' AS INT) END

      - NAME: iddemandeorigine

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'idDemandeOrigine' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'idDemandeOrigine' AS INT) END

      - NAME: idsiteorigine

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'idSiteOrigine' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'idSiteOrigine' AS INT) END

      - NAME: numdemandeorigine

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'numDemandeOrigine' ELSE ((j->>'payload')::json->>'after')::json->>'numDemandeOrigine' END

      - NAME: status

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'status' ELSE ((j->>'payload')::json->>'after')::json->>'status' END

      - NAME: statusdelai

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'statusDelai' ELSE ((j->>'payload')::json->>'after')::json->>'statusDelai' END

      - NAME: pathologique

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'pathologique' ELSE ((j->>'payload')::json->>'after')::json->>'pathologique' END

      - NAME: saisietype

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'saisietype' ELSE ((j->>'payload')::json->>'after')::json->>'saisietype' END

      - NAME: saisiedate

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'saisiedate' ELSE ((j->>'payload')::json->>'after')::json->>'saisiedate' END

      - NAME: saisieheure

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'saisieheure' ELSE ((j->>'payload')::json->>'after')::json->>'saisieheure' END

      - NAME: saisiepar

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'saisiepar' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'saisiepar' AS INT) END

      - NAME: demandedate

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'demandedate' ELSE ((j->>'payload')::json->>'after')::json->>'demandedate' END

      - NAME: validedate

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'validedate' ELSE ((j->>'payload')::json->>'after')::json->>'validedate' END

      - NAME: valideheure

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'valideheure' ELSE ((j->>'payload')::json->>'after')::json->>'valideheure' END

      - NAME: validepar

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'validepar' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'validepar' AS INT) END

      - NAME: valideauto

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'valideauto' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'valideauto' AS INT) END

      - NAME: demandedatearchive

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'demandedatearchive' ELSE ((j->>'payload')::json->>'after')::json->>'demandedatearchive' END

      - NAME: urgent

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'urgent' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'urgent' AS INT) END

      - NAME: gratuit

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'gratuit' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'gratuit' AS INT) END

      - NAME: datebutoire

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'datebutoire' ELSE ((j->>'payload')::json->>'after')::json->>'datebutoire' END

      - NAME: majdossierpatient

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'majdossierpatient' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'majdossierpatient' AS INT) END

      - NAME: ordonnancedate

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'ordonnancedate' ELSE ((j->>'payload')::json->>'after')::json->>'ordonnancedate' END

      - NAME: codebeneficiaire

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'codebeneficiaire' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'codebeneficiaire' AS INT) END

      - NAME: codeexoneration

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'codeexoneration' ELSE ((j->>'payload')::json->>'after')::json->>'codeexoneration' END

      - NAME: codecouverture

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'codecouverture' ELSE ((j->>'payload')::json->>'after')::json->>'codecouverture' END

      - NAME: assurancenature

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'assurancenature' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'assurancenature' AS INT) END

      - NAME: accidenttravailregime

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'accidenttravailregime' ELSE ((j->>'payload')::json->>'after')::json->>'accidenttravailregime' END

      - NAME: accidenttravailnumero

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'accidenttravailnumero' ELSE ((j->>'payload')::json->>'after')::json->>'accidenttravailnumero' END

      - NAME: accidenttravailsupport

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'accidenttravailsupport' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'accidenttravailsupport' AS INT) END

      - NAME: accidenttravaildate

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'accidenttravaildate' ELSE ((j->>'payload')::json->>'after')::json->>'accidenttravaildate' END

      - NAME: accidentcommun

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'accidentcommun' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'accidentcommun' AS INT) END

      - NAME: accidentcommundate

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'accidentcommundate' ELSE ((j->>'payload')::json->>'after')::json->>'accidentcommundate' END
      - NAME: facturestatus
        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'facturestatus' ELSE ((j->>'payload')::json->>'after')->>'facturestatus' END
      - NAME: idtarif

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'idtarif' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'idtarif' AS INT) END

      - NAME: sesamvitale

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'sesamvitale' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'sesamvitale' AS INT) END

      - NAME: numerologicmax

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'numerologicmax' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'numerologicmax' AS INT) END

      - NAME: statusfse

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'statusfse' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'statusfse' AS INT) END

      - NAME: datepromesse

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'datepromesse' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'datepromesse' AS INT) END

      - NAME: compterendunbrinitial

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'compterendunbrinitial' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'compterendunbrinitial' AS INT) END

      - NAME: compterendunbr

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'compterendunbr' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'compterendunbr' AS INT) END

      - NAME: compterendunbreffectue

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'compterendunbreffectue' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'compterendunbreffectue' AS INT) END

      - NAME: motclef

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'motclef' ELSE ((j->>'payload')::json->>'after')::json->>'motclef' END

      - NAME: cacheanteriorite

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'cacheanteriorite' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'cacheanteriorite' AS INT) END

      - NAME: valab

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'valab' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'valab' AS INT) END

      - NAME: origineprescription

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'origineprescription' ELSE ((j->>'payload')::json->>'after')::json->>'origineprescription' END

      - NAME: medecintraitant

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'medecintraitant' ELSE ((j->>'payload')::json->>'after')::json->>'medecintraitant' END

      - NAME: infosup

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN ((j->>'payload')::json->>'before')::json->>'infosup' ELSE ((j->>'payload')::json->>'after')::json->>'infosup' END

      - NAME: saisieparvitale

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'saisieparvitale' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'saisieparvitale' AS INT) END

      - NAME: idtuteur

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'idtuteur' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'idtuteur' AS INT) END

      - NAME: garde

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'garde' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'garde' AS INT) END

      - NAME: critique

        EXPRESSION: CASE WHEN ((j->>'payload')::json->>'op')='d' THEN CAST(((j->>'payload')::json->>'before')::json->>'critique' AS INT) ELSE CAST(((j->>'payload')::json->>'after')::json->>'critique' AS INT) END
